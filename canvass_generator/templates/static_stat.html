{% extends "base.html" %}

{% block body %}
<script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
<script>
var upr_data = [
    
        {
            value: 1,
            color: "#7FA6C2",
            highlight: "#7FA6C2",
            label: "Release 19"
        },
    
        {
            value: 2,
            color: "#7C409F",
            highlight: "#7C409F",
            label: "Release 20"
        },
    
        {
            value: 7,
            color: "#1A2A2B",
            highlight: "#1A2A2B",
            label: "Release 21"
        },
    
];
var uma_data = [
    
        {
            value: 10,
            color: "#80A64F",
            highlight: "#80A64F",
            label: "Arch x86_64"
        },
    
];

</script>
<script src="/static/js/stat_overview.js"></script>

<h1>Stats Overview</h1>
<p class="text-muted">Generated at 13/04/2015 at 07:57</p>

<h3>I. Geography</h3>
<script src="/static/js/highmaps.js"></script>
<script src="/static/js/highmaps_data.js"></script>
<script src="/static/js/highmaps_world.js"></script>
<script>
    $(function () {
        data = ([
            
                {
                    code: "NL",
                    z: 5
                },
            
                {
                    code: "US",
                    z: 5
                },
            
        ]);
        var mapData = Highcharts.geojson(Highcharts.maps['custom/world']);

        // Correct UK to GB in data
        $.each(data, function () {
            if (this.code === 'UK') {
                this.code = 'GB';
            }
        });

        $('#container').highcharts('Map', {
             credits: {
                enabled: !1
            },
            chart : {
                borderWidth : 1
            },

            title: {
                text: 'Fedora users by country'
            },

            subtitle : {
                text : 'Generated by Canvass'
            },

            legend: {
                enabled: false
            },

            mapNavigation: {
                enabled: true,
                buttonOptions: {
                    verticalAlign: 'bottom'
                }
            },

            series : [{
                name: 'Countries',
                mapData: mapData,
                color: '#db3279',
                enableMouseTracking: false
            }, {
                type: 'mapbubble',
                mapData: mapData,
                name: 'Fedora Users',
                joinBy: ['iso-a2', 'code'],
                data: data,
                minSize: 4,
                maxSize: '12%',
                tooltip: {
                    pointFormat: '{point.code}: {point.z} users'
                }
            }]
        });

    });
    </script>

<div id="container" style="height: 500px; min-width: 310px; max-width: 800px; margin: 0 auto"></div>

<h3>II. User Share</h3>
<p>Total Fedora users</p>

<div class="col-md-4">
    <b>a. Per Release</b>
    <br />
    <div><canvas id="usersPerRelease" width="200" height="200"></canvas></div>
    <div id="upr_legend"></div>
</div>

<div class="col-md-4">
    <b>b. Per Machine Arch</b>
    <br />
    <div><canvas id="usersPerArch" width="200" height="200"></canvas></div>
    <div id="uma_legend"></div>
</div>

<div class="col-md-4">
    <b>c. Per Lorem Ipsum</b>
    <br />
    <div><canvas id="usersPerRelease" width="200" height="200"></canvas></div>
</div>
{% endblock %}